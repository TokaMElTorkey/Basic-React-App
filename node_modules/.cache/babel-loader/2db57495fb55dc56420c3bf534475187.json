{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Toka ElTorky\\\\Documents\\\\movies-app\\\\src\\\\components\\\\All.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass All extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      movieCategory: \"popular\",\n      currentPage: 1,\n      todosPerPage: 3,\n      upperPageBound: 3,\n      lowerPageBound: 0,\n      isPrevBtnActive: 'disabled',\n      isNextBtnActive: '',\n      pageBound: 3\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.btnDecrementClick = this.btnDecrementClick.bind(this);\n    this.btnIncrementClick = this.btnIncrementClick.bind(this);\n    this.btnNextClick = this.btnNextClick.bind(this);\n    this.btnPrevClick = this.btnPrevClick.bind(this);\n    this.setPrevAndNextBtnClass = this.setPrevAndNextBtnClass.bind(this);\n  }\n\n  componentDidUpdate() {\n    $(\"ul li.active\").removeClass('active');\n    $('ul li#' + this.state.currentPage).addClass('active');\n  }\n\n  handleClick(event) {\n    let listid = Number(event.target.id);\n    this.setState({\n      currentPage: listid\n    });\n    $(\"ul li.active\").removeClass('active');\n    $('ul li#' + listid).addClass('active');\n    this.setPrevAndNextBtnClass(listid);\n  }\n\n  setPrevAndNextBtnClass(listid) {\n    let totalPage = Math.ceil(this.state.movies.length / this.state.todosPerPage);\n    this.setState({\n      isNextBtnActive: 'disabled'\n    });\n    this.setState({\n      isPrevBtnActive: 'disabled'\n    });\n\n    if (totalPage === listid && totalPage > 1) {\n      this.setState({\n        isPrevBtnActive: ''\n      });\n    } else if (listid === 1 && totalPage > 1) {\n      this.setState({\n        isNextBtnActive: ''\n      });\n    } else if (totalPage > 1) {\n      this.setState({\n        isNextBtnActive: ''\n      });\n      this.setState({\n        isPrevBtnActive: ''\n      });\n    }\n  }\n\n  btnIncrementClick() {\n    this.setState({\n      upperPageBound: this.state.upperPageBound + this.state.pageBound\n    });\n    this.setState({\n      lowerPageBound: this.state.lowerPageBound + this.state.pageBound\n    });\n    let listid = this.state.upperPageBound + 1;\n    this.setState({\n      currentPage: listid\n    });\n    this.setPrevAndNextBtnClass(listid);\n  }\n\n  btnDecrementClick() {\n    this.setState({\n      upperPageBound: this.state.upperPageBound - this.state.pageBound\n    });\n    this.setState({\n      lowerPageBound: this.state.lowerPageBound - this.state.pageBound\n    });\n    let listid = this.state.upperPageBound - this.state.pageBound;\n    this.setState({\n      currentPage: listid\n    });\n    this.setPrevAndNextBtnClass(listid);\n  }\n\n  btnPrevClick() {\n    if ((this.state.currentPage - 1) % this.state.pageBound === 0) {\n      this.setState({\n        upperPageBound: this.state.upperPageBound - this.state.pageBound\n      });\n      this.setState({\n        lowerPageBound: this.state.lowerPageBound - this.state.pageBound\n      });\n    }\n\n    let listid = this.state.currentPage - 1;\n    this.setState({\n      currentPage: listid\n    });\n    this.setPrevAndNextBtnClass(listid);\n  }\n\n  btnNextClick() {\n    if (this.state.currentPage + 1 > this.state.upperPageBound) {\n      this.setState({\n        upperPageBound: this.state.upperPageBound + this.state.pageBound\n      });\n      this.setState({\n        lowerPageBound: this.state.lowerPageBound + this.state.pageBound\n      });\n    }\n\n    let listid = this.state.currentPage + 1;\n    this.setState({\n      currentPage: listid\n    });\n    this.setPrevAndNextBtnClass(listid);\n  }\n\n  componentDidMount() {\n    this.callingAPI();\n  }\n\n  callingAPI() {\n    var proxy = 'https://cors-anywhere.herokuapp.com/',\n        apiLink = \"https://api.themoviedb.org/3/movie/\".concat(this.state.movieCategory, \"?api_key=36ccdeb1a698391b27bb03f49ececac1&language=en-US&page=\").concat(this.state.currentPage);\n    fetch(proxy + apiLink).then(res => res.json()) // const movie = res.data.slice(0,10);\n    .then(json => {\n      this.setState({\n        movies: json.results,\n        totalResults: json.total_results\n      });\n    });\n  }\n\n  render() {\n    var movies = this.state.movies;\n    const _this$state = this.state,\n          currentPage = _this$state.currentPage,\n          todosPerPage = _this$state.todosPerPage,\n          upperPageBound = _this$state.upperPageBound,\n          lowerPageBound = _this$state.lowerPageBound,\n          isPrevBtnActive = _this$state.isPrevBtnActive,\n          isNextBtnActive = _this$state.isNextBtnActive; // Logic for displaying current todos\n\n    const indexOfLastTodo = currentPage * todosPerPage;\n    const indexOfFirstTodo = indexOfLastTodo - todosPerPage;\n    const currentTodos = movies.slice(indexOfFirstTodo, indexOfLastTodo);\n    const pageNumbers = [];\n\n    for (let i = 1; i <= Math.ceil(movies.length / todosPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      if (number === 1 && currentPage === 1) {\n        return React.createElement(\"li\", {\n          key: number,\n          className: \"active\",\n          id: number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          id: number,\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, number));\n      } else if (number < upperPageBound + 1 && number > lowerPageBound) {\n        return React.createElement(\"li\", {\n          key: number,\n          id: number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          id: number,\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, number));\n      }\n    });\n    let pageIncrementBtn = null;\n\n    if (pageNumbers.length > upperPageBound) {\n      pageIncrementBtn = React.createElement(\"li\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.btnIncrementClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \" \\u2026 \"));\n    }\n\n    let pageDecrementBtn = null;\n\n    if (lowerPageBound >= 1) {\n      pageDecrementBtn = React.createElement(\"li\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.btnDecrementClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \" \\u2026 \"));\n    }\n\n    let renderPrevBtn = null;\n\n    if (isPrevBtnActive === 'disabled') {\n      renderPrevBtn = React.createElement(\"li\", {\n        className: isPrevBtnActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"btnPrev\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \" Prev \"));\n    } else {\n      renderPrevBtn = React.createElement(\"li\", {\n        className: isPrevBtnActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        id: \"btnPrev\",\n        onClick: this.btnPrevClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \" Prev \"));\n    }\n\n    let renderNextBtn = null;\n\n    if (isNextBtnActive === 'disabled') {\n      renderNextBtn = React.createElement(\"li\", {\n        className: isNextBtnActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"btnNext\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \" Next \"));\n    } else {\n      renderNextBtn = React.createElement(\"li\", {\n        className: isNextBtnActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        id: \"btnNext\",\n        onClick: this.btnNextClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \" Next \"));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"thumbnails\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"All Movies\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Here you can find all movie you want to show \"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, movies.map(movie => React.createElement(\"div\", {\n      className: \"col-6 col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://image.tmdb.org/t/p/w500/\" + movie.poster_path,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, movie.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, movie.overview), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"rate-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"rate-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, movie.vote_average)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"btn btn-primary border-shadow-none\",\n      href: \"#\",\n      role: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"View details \\xBB\")))))), React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, renderPrevBtn, pageDecrementBtn, renderPageNumbers, pageIncrementBtn, renderNextBtn));\n  }\n\n}\n\nexport default All;","map":{"version":3,"sources":["C:/Users/Toka ElTorky/Documents/movies-app/src/components/All.js"],"names":["React","Component","axios","All","constructor","props","state","movies","movieCategory","currentPage","todosPerPage","upperPageBound","lowerPageBound","isPrevBtnActive","isNextBtnActive","pageBound","handleClick","bind","btnDecrementClick","btnIncrementClick","btnNextClick","btnPrevClick","setPrevAndNextBtnClass","componentDidUpdate","$","removeClass","addClass","event","listid","Number","target","id","setState","totalPage","Math","ceil","length","componentDidMount","callingAPI","proxy","apiLink","fetch","then","res","json","results","totalResults","total_results","render","indexOfLastTodo","indexOfFirstTodo","currentTodos","slice","pageNumbers","i","push","renderPageNumbers","map","number","pageIncrementBtn","pageDecrementBtn","renderPrevBtn","renderNextBtn","movie","poster_path","title","overview","vote_average"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\n\nclass All extends Component {\n\t\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t\tmovieCategory:\"popular\",\n\t\t\tcurrentPage:1,\n\t\t\ttodosPerPage: 3,\n\t\t\tupperPageBound: 3,\n      lowerPageBound: 0,\n      isPrevBtnActive: 'disabled',\n      isNextBtnActive: '',\n      pageBound: 3\n\t\t};\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.btnDecrementClick = this.btnDecrementClick.bind(this);\n\t\tthis.btnIncrementClick = this.btnIncrementClick.bind(this);\n\t\tthis.btnNextClick = this.btnNextClick.bind(this);\n\t\tthis.btnPrevClick = this.btnPrevClick.bind(this);\n\t\tthis.setPrevAndNextBtnClass = this.setPrevAndNextBtnClass.bind(this);\n\n\t}\n\n\tcomponentDidUpdate() {\n\t\t$(\"ul li.active\").removeClass('active');\n\t\t$('ul li#'+this.state.currentPage).addClass('active');\n\t}\n\n\thandleClick(event) {\n\t\tlet listid = Number(event.target.id);\n\t\tthis.setState({\n\t\t\tcurrentPage: listid\n\t\t});\n\t\t$(\"ul li.active\").removeClass('active');\n\t\t$('ul li#'+listid).addClass('active');\n\t\tthis.setPrevAndNextBtnClass(listid);\n\t}\n\tsetPrevAndNextBtnClass(listid) {\n\t\tlet totalPage = Math.ceil(this.state.movies.length / this.state.todosPerPage);\n\t\tthis.setState({isNextBtnActive: 'disabled'});\n\t\tthis.setState({isPrevBtnActive: 'disabled'});\n\t\tif(totalPage === listid && totalPage > 1){\n\t\t\t\tthis.setState({isPrevBtnActive: ''});\n\t\t}\n\t\telse if(listid === 1 && totalPage > 1){\n\t\t\t\tthis.setState({isNextBtnActive: ''});\n\t\t}\n\t\telse if(totalPage > 1){\n\t\t\t\tthis.setState({isNextBtnActive: ''});\n\t\t\t\tthis.setState({isPrevBtnActive: ''});\n\t\t}\n\t}\n\n\tbtnIncrementClick() {\n\t\tthis.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\n\t\tthis.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\n\t\tlet listid = this.state.upperPageBound + 1;\n\t\tthis.setState({ currentPage: listid});\n\t\tthis.setPrevAndNextBtnClass(listid);\n\t}\n\tbtnDecrementClick() {\n\t\tthis.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\n\t\tthis.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\n\t\tlet listid = this.state.upperPageBound - this.state.pageBound;\n\t\tthis.setState({ currentPage: listid});\n\t\tthis.setPrevAndNextBtnClass(listid);\n\t}\n\tbtnPrevClick() {\n\t\tif((this.state.currentPage -1)%this.state.pageBound === 0 ){\n\t\t\t\tthis.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\n\t\t\t\tthis.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\n\t\t}\n\t\tlet listid = this.state.currentPage - 1;\n\t\tthis.setState({ currentPage : listid});\n\t\tthis.setPrevAndNextBtnClass(listid);\n\t}\n\tbtnNextClick() {\n\t\t\tif((this.state.currentPage +1) > this.state.upperPageBound ){\n\t\t\t\t\tthis.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\n\t\t\t\t\tthis.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\n\t\t\t}\n\t\t\tlet listid = this.state.currentPage + 1;\n\t\t\tthis.setState({ currentPage : listid});\n\t\t\tthis.setPrevAndNextBtnClass(listid);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.callingAPI();\n\t}\n\tcallingAPI(){\n\t\tvar proxy = 'https://cors-anywhere.herokuapp.com/',\n\t\tapiLink = `https://api.themoviedb.org/3/movie/${this.state.movieCategory}?api_key=36ccdeb1a698391b27bb03f49ececac1&language=en-US&page=${this.state.currentPage}`\n\t\tfetch(proxy+apiLink)\n\t\t.then(res => res.json())\n\t\t\t// const movie = res.data.slice(0,10);\n\t\t\t.then(json => {\n\t\t\tthis.setState({ \n\t\t\t\tmovies:json.results,\n        totalResults:json.total_results,\n\t\t\t });\n\t\t})\n\t}\n\n\n\n\trender (){\n\t\tvar { movies } = this.state;  \n\t\tconst { currentPage, todosPerPage,upperPageBound,lowerPageBound,isPrevBtnActive,isNextBtnActive } = this.state;\n\t\t// Logic for displaying current todos\n\t\tconst indexOfLastTodo = currentPage * todosPerPage;\n\t\tconst indexOfFirstTodo = indexOfLastTodo - todosPerPage;\n\t\tconst currentTodos = movies.slice(indexOfFirstTodo, indexOfLastTodo);\n\t\tconst pageNumbers = [];\n        for (let i = 1; i <= Math.ceil(movies.length / todosPerPage); i++) {\n          pageNumbers.push(i);\n        }\n\n        const renderPageNumbers = pageNumbers.map(number => {\n            if(number === 1 && currentPage === 1){\n                return(\n                    <li key={number} className='active' id={number}><a href='#' id={number} onClick={this.handleClick}>{number}</a></li>\n                )\n            }\n            else if((number < upperPageBound + 1) && number > lowerPageBound){\n                return(\n                    <li key={number} id={number}><a href='#' id={number} onClick={this.handleClick}>{number}</a></li>\n                )\n            }\n        });\n        let pageIncrementBtn = null;\n        if(pageNumbers.length > upperPageBound){\n            pageIncrementBtn = <li className=''><a href='#' onClick={this.btnIncrementClick}> &hellip; </a></li>\n        }\n        let pageDecrementBtn = null;\n        if(lowerPageBound >= 1){\n            pageDecrementBtn = <li className=''><a href='#' onClick={this.btnDecrementClick}> &hellip; </a></li>\n        }\n        let renderPrevBtn = null;\n        if(isPrevBtnActive === 'disabled') {\n            renderPrevBtn = <li className={isPrevBtnActive}><span id=\"btnPrev\"> Prev </span></li>\n        }\n        else{\n            renderPrevBtn = <li className={isPrevBtnActive}><a href='#' id=\"btnPrev\" onClick={this.btnPrevClick}> Prev </a></li>\n        }\n        let renderNextBtn = null;\n        if(isNextBtnActive === 'disabled') {\n            renderNextBtn = <li className={isNextBtnActive}><span id=\"btnNext\"> Next </span></li>\n        }\n        else{\n            renderNextBtn = <li className={isNextBtnActive}><a href='#' id=\"btnNext\" onClick={this.btnNextClick}> Next </a></li>\n        }\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='thumbnails'>\n\t\t\t\t\t<h1>\n\t\t\t\t\t\tAll Movies\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p>Here you can find all movie you want to show </p>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{movies.map (movie =>\n\t\t\t\t\t\t<div className=\"col-6 col-md-3\">\n\t\t\t\t\t\t\t<img src={\"https://image.tmdb.org/t/p/w500/\" + movie.poster_path} alt=\"\"/>\n\t\t\t\t\t\t\t<h2>{movie.title}</h2>\n\t\t\t\t\t\t\t<p>{movie.overview}</p>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<span className='rate-icon'></span>\n\t\t\t\t\t\t\t\t<span className='rate-value'>{movie.vote_average}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p><a className=\"btn btn-primary border-shadow-none\" href=\"#\" role=\"button\">View details »</a></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<ul className=\"pagination\">\n              {renderPrevBtn}\n              {pageDecrementBtn}\n              {renderPageNumbers}\n              {pageIncrementBtn}\n              {renderNextBtn}\n            </ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default All;"]},"metadata":{},"sourceType":"module"}